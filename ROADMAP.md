# ROADMAP

Документ описывает план развития расширения `marketplace-api-checker` (1С:Предприятие 8.3) — проактивного ИИ-ассистента НОПик для управления продажами на маркетплейсах из 1С:Управление торговлей 11.

## Миссия

Стать лидером рынка расширений для 1С:УТ 11 в сегменте управления продажами на маркетплейсах. НОПик — бесплатный ИИ-ассистент, который не ждёт вопросов, а проактивно находит проблемы и предлагает решения.

## Текущий статус (v0.0.1)

Реализовано:

- перехват глобального поиска и открытие формы `НОП_ФормаПоиска`;
- полнотекстовый поиск с пагинацией и историей последних запросов;
- отправка команд `нопик, ...` в HTTP-сервис НОПи;
- сохранение истории обращений в регистр `НОП_ИсторияВзаимодействияНопик`.

## План по фазам

### Фаза 1: Фундамент (v0.1–v0.4)

Стабилизация текущего функционала и подготовка к масштабированию.

#### v0.1 — Надёжность интеграции с НОПи

- Настройки HTTP: таймаут, retry (до 2 повторов), интервал между повторами.
- Статус отправки в истории: Успех, Ошибка, ПовторнаяОтправка.
- Логирование кода ответа и текста ошибки.
- Разделение пользовательских сообщений и технических логов.

#### v0.2 — Наблюдаемость и администрирование

- Форма просмотра истории с фильтрами по периоду/статусу.
- Команда повторной отправки неуспешных обращений.
- Сервисная обработка очистки/архивации истории.
- Вынос параметров интеграции в настройки.

#### v0.3 — Улучшение UX поиска

- Улучшенные подсказки: примеры команд и быстрый старт.
- Явное разделение сценариев: локальный поиск vs НОПик.
- Оптимизация навигации по результатам.
- Защита от случайной отправки пустых запросов.

#### v0.4 — Инженерная зрелость

- Smoke-сценарии для ручной регрессии.
- Changelog и шаблон релиз-нотов.
- Проверочный чеклист перед публикацией.
- Правила версионирования и обратной совместимости.

### Фаза 2: Интеграция с маркетплейсами (v1.0)

Базовая бесплатная интеграция — фундамент для продажи решений.

#### v1.0 — Ozon API

- Получение каталога товаров Ozon.
- Чтение остатков и цен.
- Получение заказов.
- Привязка товаров Ozon к номенклатуре УТ 11.
- Базовый отчёт по данным Ozon.

#### v1.1 — Wildberries API

- Получение каталога товаров WB.
- Чтение остатков и цен.
- Получение заказов.
- Привязка товаров WB к номенклатуре УТ 11.

#### v1.2 — Яндекс.Маркет API

- Получение каталога товаров Яндекс.Маркет.
- Чтение остатков и цен.
- Получение заказов.
- Привязка товаров ЯМ к номенклатуре УТ 11.

### Фаза 3: Проактивный НОПик (v2.0)

НОПик становится проактивным ИИ-менеджером.

#### v2.0 — Проактивные уведомления

- Движок бизнес-правил (триггеры на данных УТ + маркетплейсов).
- Критические уведомления: остатки, необработанные заказы, цены ниже себестоимости.
- Уведомления о тенденциях: падение продаж, рост возвратов.
- Уведомления о возможностях: высокий спрос, ценовые окна.
- Адресная доставка уведомлений: менеджер, логист, руководитель.

#### v2.1 — Рекомендации решений

- Каталог доступных модулей и обработок внутри 1С.
- НОПик рекомендует конкретное решение при обнаружении проблемы.
- Расчёт эффективности решения на данных клиента.

### Фаза 4: Расширенная функциональность (v3.0+)

- Автоматическая синхронизация остатков и цен.
- Автоматическая загрузка заказов в УТ 11.
- Кросс-площадочная аналитика продаж.
- Авто-обработка заказов (создание документов в УТ).
- Прогнозирование спроса.
- Поддержка дополнительных маркетплейсов (СберМегаМаркет, AliExpress и др.).
- Мультибазовый режим (несколько ИБ).

## Нефункциональные инициативы (сквозные)

- **Безопасность:** не хранить чувствительные данные в открытом виде, ограничивать диагностические сообщения.
- **Производительность:** удерживать отклик формы поиска и НОПика комфортным.
- **Поддерживаемость:** упрощать код модулей и устранять дублирование.
- **Совместимость:** проверять работу в целевых режимах платформы 1С (управляемое приложение, УТ 11).

## Риски и зависимости

- Доступность и SLA внешнего сервиса НОПи.
- Стабильность API маркетплейсов (Ozon, WB, Яндекс.Маркет часто меняют API).
- Ограничения инфраструктуры клиента (прокси, firewall, нестабильная сеть).
- Отличия в окружениях (тест/прод) и политиках безопасности ИБ.
- Конкуренция с крупными вендорами (1С-Рарус, решения с Infostart).

## Предложенный порядок работ

1. Стабилизировать текущий функционал НОПика (Фаза 1).
2. Реализовать бесплатную интеграцию с маркетплейсами (Фаза 2) — это привлечёт пользователей.
3. Сделать НОПика проактивным (Фаза 3) — это создаст спрос на решения.
4. Разработать каталог платных решений (Фаза 4) — это монетизация.
5. Масштабировать через партнёров (Фаза 5).

## Definition of Done для задач roadmap

Задача считается завершённой, если:

- обновлена пользовательская или техническая документация (при необходимости);
- внесены изменения в метаданные/модули расширения и проведена проверка сценария;
- добавлена запись в changelog релиза;
- зафиксированы ограничения и известные компромиссы.
